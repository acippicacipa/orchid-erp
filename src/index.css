/* =================================================================== */
/*  CSS Fallback Fix for Older Browsers (e.g., Windows 7 Chrome/FF)  */
/*  VERSION 3 - AGGRESSIVE OVERRIDE                                  */
/* =================================================================== */

/* 
  1. FIX UNTUK BACKDROP/OVERLAY DIALOG
  Selector ini menargetkan elemen yang kemungkinan besar adalah overlay.
*/
body:has([role="dialog"][data-state="open"]) > div[data-radix-popper-content-wrapper] + div {
  background-color: rgba(0, 0, 0, 0.8) !important;
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
}

/* 
  2. FIX UNTUK KONTEN DIALOG
  Selector ini secara spesifik menargetkan elemen dialog yang sedang terbuka.
*/
div[role="dialog"][data-state="open"] {
  /* 
    Langsung timpa kelas 'bg-background' dengan warna solid.
    #ffffff adalah putih.
  */
  background-color: #ffffff !important;
}

/* 
  3. FALLBACK TAMBAHAN (JIKA SEBELUMNYA GAGAL)
  Ini adalah selector yang lebih umum jika struktur Radix berubah.
*/
.bg-background[role="dialog"] {
    background-color: #ffffff !important;
}

/* 
  3. FIX UNTUK DROPDOWN MENU & SELECT CONTENT
  Memberikan warna latar belakang putih solid pada menu dropdown.
*/
[data-radix-dropdown-menu-content][data-state="open"],
[data-radix-select-content][data-state="open"] {
  background-color: #ffffff !important;
}

/* 
  4. FIX UNTUK POPOVER UMUM (TERMASUK PRODUCT SEARCH DROPDOWN)
  Ini adalah selector yang lebih umum untuk menangkap elemen popover lain
  yang mungkin dibuat oleh Radix UI atau library sejenis.
*/
div[data-radix-popper-content-wrapper] > div[role="menu"],
div[data-radix-popper-content-wrapper] > div[role="listbox"] {
  background-color: #ffffff !important;
}

/*
  5. FIX UNTUK HOVER ITEM DI DALAM DROPDOWN/SELECT
  Memberikan warna highlight saat mouse hover di atas item.
*/
[data-radix-dropdown-menu-content]: # "[role=\"menuitem\"][data-highlighted],"
[data-radix-select-content]: # "[role=\"option\"][data-highlighted] {"
  /* 
    Gaya default menggunakan `hsl(var(--accent))`. Kita timpa dengan warna solid.
    #f1f5f9 adalah warna abu-abu muda (mirip dengan `slate-100` di Tailwind).
  */
  background-color: #f1f5f9 !important; 
}
